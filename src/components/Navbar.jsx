import React from "react";
import LastUpdatedTime from "./LastUpdatedTime";
import Projectdropdown from "./Projectdropdown";
import Ingenero from "../Images/Ingenero.png";
import Ingenero_dark from "../Images/Ingenero_dark.png";
import "../App.css";
import Apiserver from "./Apiserver";
import { Link } from "react-router-dom";
import { createContext, useState } from "react";
import { useContext } from "react";
import { themeContext } from "../context/ThemeContext";
import driverObj from "../services/walkthroughFns";

function Navbar() {
  const { theme, setTheme } = useContext(themeContext);

  function handelClick() {
    driverObj.drive();
  }

  return (
    <div className={`navbar ${theme}`}>
      <div className="main-title">
        <img
          src={theme == "light" ? Ingenero : Ingenero_dark}
          alt="fireSpot"
          className="logo"
        />
        <span className="header-name">Health Monitoring</span>
        <span>
          <LastUpdatedTime />
        </span>
        <span>
          <Projectdropdown />
        </span>

        {window.location.pathname === "/Adminpage" ? (
          <Link to="/">
            <svg
              data-tooltip-id="home"
              data-tooltip-content="Home Page"
              xmlns="http://www.w3.org/2000/svg"
              width="22"
              height="22"
              viewBox="0 0 22 22"
              className="home"
              fill="none"
            >
              <path
                d="M11.2388 4.3517C11.1748 4.2905 11.0897 4.25635 11.0012 4.25635C10.9127 4.25635 10.8275 4.2905 10.7636 4.3517L2.85303 11.9086C2.81943 11.9408 2.79271 11.9794 2.77446 12.0221C2.75622 12.0649 2.74684 12.1109 2.74689 12.1574L2.74561 19.2498C2.74561 19.6145 2.89047 19.9642 3.14833 20.2221C3.4062 20.48 3.75593 20.6248 4.12061 20.6248H8.2499C8.43224 20.6248 8.60711 20.5524 8.73604 20.4235C8.86497 20.2945 8.9374 20.1197 8.9374 19.9373V14.0936C8.9374 14.0024 8.97362 13.915 9.03808 13.8505C9.10255 13.786 9.18998 13.7498 9.28115 13.7498H12.7187C12.8098 13.7498 12.8973 13.786 12.9617 13.8505C13.0262 13.915 13.0624 14.0024 13.0624 14.0936V19.9373C13.0624 20.1197 13.1348 20.2945 13.2638 20.4235C13.3927 20.5524 13.5676 20.6248 13.7499 20.6248H17.8775C18.2422 20.6248 18.5919 20.48 18.8498 20.2221C19.1076 19.9642 19.2525 19.6145 19.2525 19.2498V12.1574C19.2525 12.1109 19.2432 12.0649 19.2249 12.0221C19.2067 11.9794 19.1799 11.9408 19.1463 11.9086L11.2388 4.3517Z"
                fill="#C55A11"
              />
              <path
                d="M21.0938 10.4908L17.8797 7.41598V2.75C17.8797 2.56766 17.8073 2.3928 17.6784 2.26386C17.5494 2.13493 17.3746 2.0625 17.1922 2.0625H15.1297C14.9474 2.0625 14.7725 2.13493 14.6436 2.26386C14.5147 2.3928 14.4422 2.56766 14.4422 2.75V4.125L11.9535 1.74539C11.7206 1.50992 11.3743 1.375 11 1.375C10.627 1.375 10.2816 1.50992 10.0487 1.74582L0.909235 10.49C0.641969 10.7478 0.608454 11.1719 0.851657 11.4512C0.912729 11.5217 0.987507 11.579 1.07144 11.6197C1.15538 11.6604 1.24671 11.6835 1.33989 11.6878C1.43306 11.6921 1.52613 11.6773 1.61343 11.6445C1.70072 11.6116 1.78042 11.5613 1.84767 11.4967L10.7637 2.97687C10.8277 2.91568 10.9128 2.88152 11.0013 2.88152C11.0898 2.88152 11.175 2.91568 11.2389 2.97687L20.1558 11.4967C20.2871 11.6227 20.4631 11.6914 20.645 11.6879C20.827 11.6843 21.0001 11.6088 21.1265 11.4778C21.3903 11.2045 21.3684 10.7534 21.0938 10.4908Z"
                fill="#C55A11"
              />
              <g>
                <span
                  data-tooltip-id="home"
                  data-tooltip-content="Admin Page"
                ></span>
              </g>
            </svg>
          </Link>
        ) : (
          <Link to="/Adminpage" id="driver_configuration">
            {theme == "light" ? (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
                className="user-setting"
              >
                <path
                  d="M8.97144 9.05C8.15412 9.05 7.35517 8.80756 6.67568 8.35336C5.99619 7.89916 5.4667 7.2536 5.15421 6.49839C4.84172 5.74317 4.76026 4.91223 4.92016 4.1107C5.08006 3.30918 5.47411 2.5731 6.05247 1.9956C6.63083 1.41809 7.36749 1.02513 8.16925 0.866417C8.97101 0.707708 9.80183 0.79039 10.5566 1.104C11.3113 1.41761 11.9561 1.94806 12.4093 2.62822C12.8625 3.30838 13.1038 4.10769 13.1026 4.925C13.0993 6.01909 12.6628 7.06735 11.8886 7.84041C11.1144 8.61347 10.0655 9.04839 8.97144 9.05ZM8.97144 2.01612C8.39612 2.01612 7.83371 2.18672 7.35535 2.50635C6.87698 2.82599 6.50414 3.28029 6.28398 3.81182C6.06381 4.34335 6.00621 4.92823 6.11845 5.4925C6.23069 6.05677 6.50773 6.57508 6.91455 6.9819C7.32136 7.38871 7.83968 7.66576 8.40394 7.778C8.96821 7.89024 9.55309 7.83263 10.0846 7.61247C10.6162 7.3923 11.0705 7.01946 11.3901 6.5411C11.7097 6.06273 11.8803 5.50033 11.8803 4.925C11.8803 4.15352 11.5739 3.41363 11.0283 2.86811C10.4828 2.32259 9.74293 2.01612 8.97144 2.01612Z"
                  fill="#201E1E"
                />
                <path
                  d="M10.0344 19.3601C9.90083 19.2265 9.7978 19.0656 9.73239 18.8884C9.66699 18.7111 9.64075 18.5218 9.6555 18.3335H2.44439V14.8013C3.31089 13.8767 4.36188 13.1443 5.52934 12.6517C6.69679 12.159 7.95469 11.917 9.22161 11.9413H9.66161C9.63356 11.7364 9.65316 11.5278 9.71887 11.3317C9.78458 11.1356 9.89465 10.9573 10.0405 10.8107L10.1138 10.7435C9.82661 10.7435 9.50272 10.7068 9.22161 10.7068C7.73075 10.6714 6.25065 10.9678 4.88833 11.5744C3.52601 12.1811 2.31552 13.0829 1.34439 14.2146C1.26505 14.3204 1.22217 14.449 1.22217 14.5813V18.3335C1.22217 18.6576 1.35094 18.9685 1.58015 19.1977C1.80936 19.4269 2.12024 19.5557 2.44439 19.5557H10.2055L10.0344 19.3601Z"
                  fill="#201E1E"
                />
                <path
                  d="M16.4204 9.95434C16.4506 9.94808 16.4818 9.94808 16.5121 9.95434C16.4818 9.94884 16.4507 9.94884 16.4204 9.95434Z"
                  fill="#201E1E"
                />
                <path
                  d="M20.582 14.2516L19.3598 13.8788C19.2724 13.5799 19.1536 13.2911 19.0053 13.0172L19.6164 11.8805C19.6363 11.835 19.6411 11.7844 19.6301 11.736C19.6191 11.6876 19.5929 11.644 19.5553 11.6116L18.6692 10.7255C18.6357 10.6892 18.591 10.6653 18.5422 10.6575C18.4934 10.6498 18.4434 10.6586 18.4003 10.6827L17.2759 11.2938C16.999 11.1382 16.706 11.0132 16.402 10.9211L16.0292 9.69884C16.0134 9.65385 15.9834 9.61522 15.9437 9.58877C15.904 9.56231 15.8568 9.54947 15.8092 9.55217H14.5564C14.5083 9.55162 14.4613 9.56685 14.4227 9.59555C14.3841 9.62425 14.3559 9.66483 14.3426 9.71106L13.9698 10.9333C13.6637 11.0223 13.3685 11.1453 13.0898 11.2999L11.9776 10.6888C11.9354 10.6652 11.8864 10.6566 11.8387 10.6644C11.791 10.6721 11.7473 10.6958 11.7148 10.7316L10.8103 11.6116C10.7768 11.6469 10.7552 11.6919 10.7486 11.7401C10.7421 11.7884 10.7508 11.8375 10.7737 11.8805L11.3848 12.9927C11.2231 13.2682 11.094 13.5614 10.9998 13.8666L9.77756 14.2333C9.73132 14.2466 9.69075 14.2748 9.66205 14.3134C9.63335 14.3521 9.61811 14.399 9.61867 14.4472V15.7C9.62228 15.7441 9.6395 15.786 9.66796 15.82C9.69642 15.8539 9.73472 15.8782 9.77756 15.8894L10.9998 16.2622C11.0901 16.5619 11.2131 16.8509 11.3664 17.1238L10.7553 18.2911C10.732 18.3329 10.723 18.3812 10.7296 18.4286C10.7362 18.476 10.7581 18.52 10.792 18.5538L11.6781 19.4399C11.7127 19.4745 11.7573 19.4972 11.8056 19.5049C11.8539 19.5126 11.9034 19.5048 11.947 19.4827L13.0898 18.8716C13.3617 19.0179 13.6486 19.1347 13.9453 19.2199L14.312 20.4422C14.327 20.4874 14.3556 20.5269 14.3939 20.5553C14.4322 20.5838 14.4782 20.5997 14.5259 20.6011H15.7787C15.8265 20.6006 15.8731 20.585 15.9115 20.5565C15.9499 20.5279 15.9783 20.4879 15.9926 20.4422L16.3653 19.1894C16.6582 19.104 16.9409 18.9872 17.2087 18.8411L18.3637 19.4522C18.4061 19.4747 18.4548 19.4828 18.5023 19.475C18.5497 19.4673 18.5933 19.4443 18.6264 19.4094L19.5553 18.5783C19.5803 18.5424 19.5937 18.4998 19.5937 18.4561C19.5937 18.4124 19.5803 18.3697 19.5553 18.3338L18.9442 17.185C19.0926 16.9154 19.2114 16.6306 19.2987 16.3355L20.5209 15.9627C20.5671 15.9494 20.6077 15.9212 20.6364 15.8826C20.6651 15.8439 20.6803 15.797 20.6798 15.7488V14.4655C20.6854 14.4243 20.6792 14.3823 20.6619 14.3444C20.6446 14.3065 20.6169 14.2744 20.582 14.2516ZM15.1859 17.1116C14.7817 17.1128 14.3862 16.994 14.0496 16.7702C13.713 16.5464 13.4505 16.2276 13.2952 15.8544C13.14 15.4812 13.099 15.0703 13.1776 14.6738C13.2562 14.2773 13.4507 13.9131 13.7365 13.6272C14.0223 13.3414 14.3866 13.1469 14.7831 13.0683C15.1796 12.9898 15.5905 13.0307 15.9637 13.1859C16.3369 13.3412 16.6556 13.6037 16.8794 13.9403C17.1033 14.2769 17.2221 14.6724 17.2209 15.0766C17.2193 15.6158 17.0044 16.1325 16.6231 16.5138C16.2418 16.8951 15.7251 17.11 15.1859 17.1116Z"
                  fill="#C55A11"
                />
              </svg>
            ) : (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="22"
                className="user-setting"
                viewBox="0 0 22 22"
                fill="none"
              >
                <path
                  d="M8.97132 9.04994C8.154 9.04994 7.35505 8.8075 6.67556 8.3533C5.99607 7.8991 5.46658 7.25354 5.15409 6.49833C4.84159 5.74311 4.76014 4.91217 4.92004 4.11064C5.07993 3.30912 5.47399 2.57304 6.05235 1.99553C6.63071 1.41803 7.36737 1.02507 8.16913 0.866356C8.97089 0.707647 9.80171 0.790329 10.5565 1.10394C11.3112 1.41755 11.956 1.948 12.4092 2.62816C12.8624 3.30832 13.1036 4.10763 13.1024 4.92494C13.0992 6.01903 12.6627 7.06729 11.8885 7.84035C11.1143 8.61341 10.0654 9.04833 8.97132 9.04994ZM8.97132 2.01605C8.39599 2.01605 7.83359 2.18666 7.35523 2.50629C6.87686 2.82592 6.50402 3.28023 6.28386 3.81176C6.06369 4.34329 6.00608 4.92817 6.11832 5.49244C6.23056 6.05671 6.50761 6.57502 6.91442 6.98184C7.32124 7.38865 7.83955 7.6657 8.40382 7.77794C8.96809 7.89018 9.55297 7.83257 10.0845 7.61241C10.616 7.39224 11.0703 7.0194 11.39 6.54104C11.7096 6.06267 11.8802 5.50027 11.8802 4.92494C11.8802 4.15346 11.5737 3.41357 11.0282 2.86805C10.4827 2.32253 9.7428 2.01605 8.97132 2.01605Z"
                  fill="white"
                />
                <path
                  d="M10.0344 19.3601C9.90083 19.2265 9.7978 19.0656 9.73239 18.8884C9.66699 18.7111 9.64075 18.5218 9.6555 18.3335H2.44439V14.8013C3.31089 13.8767 4.36188 13.1443 5.52934 12.6517C6.69679 12.159 7.95469 11.917 9.22161 11.9413H9.66161C9.63356 11.7364 9.65316 11.5278 9.71887 11.3317C9.78458 11.1356 9.89465 10.9573 10.0405 10.8107L10.1138 10.7435C9.82661 10.7435 9.50272 10.7068 9.22161 10.7068C7.73075 10.6714 6.25065 10.9678 4.88833 11.5744C3.52601 12.1811 2.31552 13.0829 1.34439 14.2146C1.26505 14.3204 1.22217 14.449 1.22217 14.5813V18.3335C1.22217 18.6576 1.35094 18.9685 1.58015 19.1977C1.80936 19.4269 2.12024 19.5557 2.44439 19.5557H10.2055L10.0344 19.3601Z"
                  fill="white"
                />
                <path
                  d="M16.4203 9.9544C16.4505 9.94814 16.4817 9.94814 16.512 9.9544C16.4816 9.9489 16.4506 9.9489 16.4203 9.9544Z"
                  fill="white"
                />
                <path
                  d="M20.5821 14.2516L19.3599 13.8788C19.2725 13.5798 19.1537 13.291 19.0055 13.0171L19.6166 11.8804C19.6364 11.835 19.6412 11.7843 19.6302 11.7359C19.6192 11.6876 19.593 11.644 19.5555 11.6116L18.6693 10.7254C18.6358 10.6892 18.5911 10.6652 18.5423 10.6575C18.4935 10.6497 18.4436 10.6586 18.4005 10.6827L17.276 11.2938C16.9991 11.1381 16.7061 11.0131 16.4021 10.921L16.0293 9.69878C16.0135 9.65379 15.9835 9.61516 15.9438 9.58871C15.9042 9.56225 15.857 9.54941 15.8093 9.55211H14.5566C14.5084 9.55155 14.4615 9.56679 14.4228 9.59549C14.3842 9.62419 14.356 9.66477 14.3427 9.711L13.9699 10.9332C13.6638 11.0223 13.3687 11.1453 13.0899 11.2999L11.9777 10.6888C11.9355 10.6652 11.8865 10.6565 11.8388 10.6643C11.7911 10.6721 11.7474 10.6958 11.7149 10.7316L10.8105 11.6116C10.7769 11.6469 10.7553 11.6918 10.7488 11.7401C10.7422 11.7883 10.7509 11.8374 10.7738 11.8804L11.3849 12.9927C11.2233 13.2681 11.0941 13.5614 10.9999 13.8666L9.77768 14.2332C9.73144 14.2466 9.69087 14.2747 9.66217 14.3134C9.63347 14.352 9.61823 14.399 9.61879 14.4471V15.6999C9.6224 15.744 9.63963 15.786 9.66809 15.8199C9.69655 15.8538 9.73484 15.8781 9.77768 15.8893L10.9999 16.2621C11.0902 16.5619 11.2132 16.8508 11.3666 17.1238L10.7555 18.291C10.7321 18.3328 10.7231 18.3811 10.7297 18.4285C10.7363 18.476 10.7582 18.5199 10.7921 18.5538L11.6782 19.4399C11.7128 19.4744 11.7575 19.4971 11.8058 19.5048C11.854 19.5125 11.9035 19.5047 11.9471 19.4827L13.0899 18.8716C13.3619 19.0178 13.6487 19.1346 13.9455 19.2199L14.3121 20.4421C14.3272 20.4873 14.3557 20.5269 14.394 20.5553C14.4323 20.5837 14.4784 20.5997 14.526 20.601H15.7788C15.8267 20.6006 15.8732 20.585 15.9116 20.5564C15.9501 20.5279 15.9784 20.4878 15.9927 20.4421L16.3655 19.1893C16.6583 19.104 16.9411 18.9872 17.2088 18.841L18.3638 19.4521C18.4062 19.4747 18.4549 19.4827 18.5024 19.475C18.5498 19.4673 18.5935 19.4442 18.6266 19.4093L19.5555 18.5782C19.5804 18.5424 19.5938 18.4997 19.5938 18.456C19.5938 18.4123 19.5804 18.3696 19.5555 18.3338L18.9443 17.1849C19.0927 16.9153 19.2115 16.6305 19.2988 16.3354L20.521 15.9627C20.5672 15.9493 20.6078 15.9211 20.6365 15.8825C20.6652 15.8439 20.6805 15.7969 20.6799 15.7488V14.4654C20.6855 14.4242 20.6793 14.3822 20.662 14.3443C20.6447 14.3065 20.617 14.2743 20.5821 14.2516ZM15.186 17.1116C14.7818 17.1128 14.3863 16.9939 14.0497 16.7701C13.7131 16.5463 13.4506 16.2276 13.2953 15.8544C13.1401 15.4812 13.0992 15.0703 13.1777 14.6737C13.2563 14.2772 13.4508 13.913 13.7366 13.6272C14.0224 13.3413 14.3867 13.1468 14.7832 13.0683C15.1797 12.9897 15.5906 13.0306 15.9638 13.1859C16.337 13.3411 16.6558 13.6037 16.8796 13.9403C17.1034 14.2769 17.2222 14.6723 17.221 15.0766C17.2194 15.6158 17.0045 16.1324 16.6232 16.5137C16.2419 16.895 15.7252 17.1099 15.186 17.1116Z"
                  fill="#C55A11"
                />
              </svg>
            )}
          </Link>
        )}

        <span className="pipe">|</span>

        <span
          id="driver_theme"
          onClick={() => {
            if (theme == "light") {
              setTheme("dark");
            } else {
              setTheme("light");
            }
          }}
        >
          {theme == "light" ? (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="22"
              height="22"
              viewBox="0 0 22 22"
              fill="none"
              className="night-mode"
            >
              <path
                d="M11 3.85001C12.8962 3.85001 14.7149 4.60331 16.0558 5.9442C17.3967 7.28508 18.15 9.10371 18.15 11C18.15 12.8963 17.3967 14.7149 16.0558 16.0558C14.7149 17.3967 12.8962 18.15 11 18.15V3.85001ZM11 2.20001C8.66605 2.20001 6.42773 3.12715 4.77741 4.77747C3.12709 6.42779 2.19995 8.66611 2.19995 11C2.19995 13.3339 3.12709 15.5722 4.77741 17.2226C6.42773 18.8729 8.66605 19.8 11 19.8C13.3339 19.8 15.5722 18.8729 17.2225 17.2226C18.8728 15.5722 19.8 13.3339 19.8 11C19.8 8.66611 18.8728 6.42779 17.2225 4.77747C15.5722 3.12715 13.3339 2.20001 11 2.20001Z"
                fill="#201E1E"
              />
            </svg>
          ) : (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="22"
              height="22"
              className="night-mode"
              viewBox="0 0 22 22"
              fill="none"
            >
              <path
                d="M11 18.15C9.10375 18.15 7.28512 17.3967 5.94424 16.0559C4.60335 14.715 3.85005 12.8963 3.85005 11C3.85005 9.10375 4.60335 7.28512 5.94424 5.94423C7.28512 4.60335 9.10375 3.85005 11.0001 3.85005L11 18.15ZM11 19.8C13.334 19.8 15.5723 18.8729 17.2226 17.2226C18.8729 15.5723 19.8 13.334 19.8 11C19.8 8.66614 18.8729 6.42783 17.2226 4.77751C15.5723 3.12719 13.334 2.20005 11.0001 2.20005C8.66614 2.20005 6.42783 3.12719 4.77751 4.77751C3.12719 6.42783 2.20005 8.66614 2.20005 11C2.20005 13.334 3.12719 15.5723 4.77751 17.2226C6.42783 18.8729 8.66614 19.8 11 19.8Z"
                fill="white"
              />
            </svg>
          )}
        </span>

        <span className="pipe">|</span>
      {window.location.pathname === "/" && (
          <>
            {" "}
            <span className="tour">
              <span
                style={{ padding: "3px 1px", borderRadius: "0px" }}
                onClick={handelClick}>
                Get Started
              </span>
            </span>
            <span className="pipe">|</span>{" "}
          </>
        )}
        <span>
          <Apiserver />
        </span>
      </div>
    </div>
  );
}

export default Navbar;
